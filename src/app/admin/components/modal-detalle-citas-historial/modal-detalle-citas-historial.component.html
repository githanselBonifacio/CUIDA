<div class="container">

    <Div id="btn-close">
        <h4>Detalle cita</h4>
        <div id="i-cont">
          <i class="bi bi-x" (click)='onClose()' title="cerrar"></i>
        </div>
        
    </Div>

    <h5>Tratamientos</h5>

    <div class="tratamientos ">
        <p *ngIf="citaSeleccionada.tratamientos ==null">La cita no contiene tratamientos</p>
        <div class="content-item" *ngIf="citaSeleccionada.tratamientos !=null">
            <table class="table table-hover" >
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Tipo tratamiento</th>
                    <th scope="col">Prestación</th>
                    <th scope="col">Medicamento</th>
                    <th scope="col">Dosis</th>
                    <th scope="col">Via</th>
                    <th scope="col">Fecuencia</th>
                    <th scope="col">Duracion</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let tratamiento of citaSeleccionada.tratamientos;let i = index;">
                    <th scope="row">{{i+1}}</th>
                    <td>{{tratamiento.tipoTratamiento}}</td>
                    <td>{{tratamiento.tipoPrestacion}}</td>
                    <td>
                      <div>{{tratamiento.nombreMedicamento}} </div>
                      <div>{{tratamiento.presentacionMedicamento}}</div>
                    </td>
                    <td>{{tratamiento.cantidadDosis}} {{tratamiento.unidadDosis}}</td>
                    <td>{{tratamiento.viaAdministracion}}</td>
                    <td>{{tratamiento.frecuencia}}</td>
                    <td>{{tratamiento.duracion}}</td>
                  </tr>

                </tbody>
              </table>
        
        </div>
       

    </div>

    <h5>Procedimientos</h5>
    <div class="procedimientos">
        <p *ngIf="contieneProcedimientos()">La cita no contiene procedimientos</p>
        <div *ngFor="let curacion of citaSeleccionada.procedimientos.curaciones">
              
          <div class="content-procedimiento">
                
              <div class="titulo-procedimiento">Curación</div>
                
              <div class="item-procedimiento">
                  <span >Tipo: {{curacion.tipoCuracion}}</span>
              </div>

              <div class="item-procedimiento">
                  <span >Descripción: {{curacion.descripcion}}</span>
              </div >

              <div class="item-procedimiento">
                  <span>Sesiones: {{curacion.sesiones}}</span>
              </div>
          </div>
              
        </div>

        <div *ngFor="let canalizacion of citaSeleccionada.procedimientos.canalizaciones">
              
          <div class="content-procedimiento">
                <div class="titulo-procedimiento">Canalización</div>
                
                <div class="item-procedimiento">
                  <span>Tipo: {{canalizacion.tipoCanalizacion}}</span>
                </div>

          </div>
              
        </div>
       <div *ngFor="let fototerapia of citaSeleccionada.procedimientos.fototerapias">
              
          <div class="content-procedimiento">
                <div class="titulo-procedimiento">Fototerapia</div>
                
                <div class="item-procedimiento">
                  <span> Fecuencia: {{fototerapia.tipoFrecuencia}}</span>
                </div>
                <div class="item-procedimiento">
                  <span>Dias tratamiento: {{fototerapia.diasTratamiento}}</span>
                </div>
                <div class="item-procedimiento">
                  <span>Dosis: {{fototerapia.cantidadDosis}}</span>
                </div>

          </div>               
        </div>
       
        <div *ngFor="let tomaMuestra of citaSeleccionada.procedimientos.tomaMuestra">
              
          <div class="content-procedimiento">
                <div class="titulo-procedimiento">Toma de muestras</div>
                
                <div class="item-procedimiento">
                  <span>Tipo: {{tomaMuestra.tipoMuestra}}</span>
                </div>
              
                <div *ngIf="tomaMuestra.requiereAyuno" class="item-procedimiento">
                    <div class="badge-advertencia">
                      <span>Requiere ayuno</span>
                    </div>
                </div>   
          </div>
              
        </div>
        <div *ngFor="let sondaje of citaSeleccionada.procedimientos.sondajes">
              
          <div class="content-procedimiento">
                <div class="titulo-procedimiento"> Sondaje</div>
                
                <div class="item-procedimiento">
                   <span> Tipo: {{sondaje.tipoSondaje}}</span>
                </div>
                <div class="item-procedimiento">
                  <span>Sonda: {{sondaje.tipoSondaje}}</span>
                </div>
                <div class="item-procedimiento">
                  <span>Sesiones: {{sondaje.totalSesiones}}</span>
                </div>
               
          </div>
              
        </div>
        <div *ngFor="let secrecion of citaSeleccionada.procedimientos.secreciones">
              
          <div class="content-procedimiento">
                <div class="titulo-procedimiento">Secreción</div>
                
                <div class="item-procedimiento">
                  <span>Tipo sonda: {{secrecion.tipoSonda}}</span>
                </div>
                <div class="item-procedimiento">
                  <span>Dias tratamiento: {{secrecion.diasTratamiento}}</span>
                </div>
               
                <div *ngIf="secrecion.visitaEnfermeria">
                  <div class="badge-advertencia">
                    <span>Tiene visita enfermería</span>
                  </div>
            
                </div>
                <div *ngIf="secrecion.envioAspirador" >
                  <div class="badge-advertencia">
                    <span >Tiene Respirador</span>
                  </div>
                  <br>
                </div>
                <div *ngIf="secrecion.nasal">
                  <div class="badge-advertencia">
                    <span >Nasal</span>
                  </div>
               
                </div>
                <div *ngIf="secrecion.traqueostomia"> 
                  <div class="badge-advertencia">
                    <span >Traqueostomia</span>
                  </div>
                </div>              
          </div>      
        </div>
        <div *ngFor="let soporteNutricional of citaSeleccionada.procedimientos.soporteNutricionales">
              
          <div class="content-procedimiento">
                <div class="titulo-procedimiento">Soporte nutricional</div>
                
                <div class="item-procedimiento">
                    <div class="card-medicamento">
                      <h6>Medicamento</h6> 
                      <div class="item-medicamento">
                            {{soporteNutricional.nombreMedicamento}}
                      </div>
                      <div  class="item-medicamento">
                          {{soporteNutricional.presentacionMedicamento}}
                      </div>
                        
                    </div>
                </div>
                

                <div class="item-procedimiento">
                  <span> Dosis: {{soporteNutricional.cantidadDosis}} ({{soporteNutricional.unidadDosis}})</span>
                </div>
                <div class="item-procedimiento">
                  <span>Tipo: {{soporteNutricional.tipo}}</span>
                </div>
                <div class="item-procedimiento">
                  <span> Descripción: {{soporteNutricional.descripcion}}</span>
                 
                </div>
                <div class="item-procedimiento">
                  <span> Duración: {{soporteNutricional.duracion}}</span>
                </div>
                <div class="item-procedimiento">
                  <span>volumen: {{soporteNutricional.volumen}}</span>
                </div>
              
                <div *ngIf="soporteNutricional.noPbs">
                  <div class="badge-advertencia">
                    <span >No PBS</span>
                  </div>
              </div>
          </div>

      </div>

  </div>

</div>
